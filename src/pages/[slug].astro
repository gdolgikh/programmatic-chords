---
import Layout from '../components/Layout.astro';
import ChordContent from '../components/pages/ChordContent.astro';
import { chords } from '../data/chords.js';
import { t } from '../i18n/index.js';

export function getStaticPaths() {
  return chords.map(chord => ({
    params: { slug: chord.slug },
    props: { chord },
  }));
}

const { chord } = Astro.props;
const firstSentence = chord.description.split('. ')[0] + '.';
const metaDescription = t('en', 'learnHowToPlay', { name: chord.name, description: firstSentence });
const aliases = (await import('../data/chordAliases.js')).getChordAliases(chord.root, chord.quality, chord.name);
---

<Layout
  locale="en"
  title={`${chord.name} â€” ChordLab`}
  description={metaDescription}
  keywords={[chord.name, ...aliases].join(', ')}
  enSlug={chord.slug}
  pageType="chord"
>
  <ChordContent chord={chord} locale="en" />
</Layout>
