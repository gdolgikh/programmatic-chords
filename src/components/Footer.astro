---
import { t, getLocalizedUrl } from '../i18n/index.js';
const { locale = 'en' } = Astro.props;
const year = new Date().getFullYear();

// Legal pages always link to English versions
const privacyHref = '/privacy-policy/';
const termsHref = '/terms-of-service/';
const cookieHref = '/cookie-policy/';
const contactHref = locale === 'en' ? '/contact/' : getLocalizedUrl(locale, 'contact', 'static');
---

<footer class="site-footer">
  <div class="footer-inner">
    <div class="footer-links">
      <a href={privacyHref}>{t(locale, 'privacyPolicy')}</a>
      <span class="footer-sep">&middot;</span>
      <a href={termsHref}>{t(locale, 'termsOfService')}</a>
      <span class="footer-sep">&middot;</span>
      <a href={cookieHref}>{t(locale, 'cookiePolicy')}</a>
      <span class="footer-sep">&middot;</span>
      <a href={contactHref}>{t(locale, 'contact')}</a>
    </div>
    <div class="footer-copy">
      &copy; {year} {t(locale, 'copyright')}
    </div>
  </div>
</footer>

<style>
  .site-footer {
    border-top: 1px solid var(--rule);
    margin-top: 1rem;
    padding: 2rem 24px 1.5rem;
  }

  .footer-inner {
    max-width: 1100px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.6rem;
    text-align: center;
  }

  .footer-links {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
    justify-content: center;
  }

  .footer-links a {
    font-size: 0.8rem;
    color: var(--ink-faded);
    transition: color 0.15s ease;
  }

  .footer-links a:hover { color: var(--ink); }
  .footer-sep { color: var(--rule); font-size: 0.7rem; }

  .footer-copy {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 0.7rem;
    color: var(--rule);
    letter-spacing: 0.03em;
  }
</style>
